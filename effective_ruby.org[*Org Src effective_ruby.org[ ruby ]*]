# coding: utf-8
# error
class Singleton
  private_class_method :new, :dup, :clone

  def self.instance
    @@single ||= new  # 超类的类变量被所有子类共享
  end
end

class Configuration < Singleton
end

class Database < Singleton
end

Configuration.instance  #=> #<Configuration>
Database.instance  #=> #<Configuration>

# right
def self.instance
  @single ||= new
end
